{% extends "base.html" %}
{% block title %}Home{% endblock %}

<!--
The home page serves as the default landing page of
the website. It will contain 
-->

{% block content %}
    <!-- Heading -->
    <h3 align="center"> 
        Posts
    </h3>
    <!-- Display Posts -->
    <div id="posts">
        {% for post in posts %}
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <!-- Display Username-->
                    <a href="/posts/{{post.user.username}}">
                        {{post.user.username}}
                    </a>
                    {% if user.id == post.author %}
                    <!-- Dropdown menu -->
                    <div class="dropdown ms-auto">
                        <i class="fas fa-ellipsis-vertical" data-bs-toggle="dropdown" aria-expanded="false"></i>
                        <ul class="dropdown-menu">
                            <!-- Update Button Link-->
                            <li>
                            <span class="dropdown-item">
                                <i class="fas fa-pen mx-2"></i> Update
                            </span>
                            </li>
                            <!-- Delete Button Link-->
                            <li>
                                <a href="/delete-post/{{post.id}}" class="dropdown-item">
                                    <i class="fas fa-trash mx-2"></i> Delete
                                </a>
                            </li>
                        </ul>
                    </div>
                    {% endif %}
                </div>
                <div class="card-body">
                    <!-- Display Post Content-->            
                    <p>
                        {{post.text}}
                    </p>
                    <!-- Display Creation Date-->
                    <footer class="text-muted">
                        {{ post.date_created}}
                    </footer>
                </div>
            </div>
            <br/>
        {% endfor %}
    </div>
{% endblock %}